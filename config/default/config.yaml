apiVersion: config.bankdata.dk/v2alpha2
kind: ProjectConfig
#controllerClass:
deletionProtectionDefault: false
#disableCRDWebhooks:
readOnly: true
enableMigrations: false
enableDeltaBundlesDefault: false # This does affect the thingy
#gitCredentials:
logLevel: 0
# leaderElection:
#   leaseDuration: "60s"
#   renewDeadline: "30s"
#   retryPeriod: "5s"
notificationWebhooks: {}
  # systemDatasourceChanged: google.com
  # libraryDatasourceChanged: test.dk
#sentry:
#sso:
styra:
  address: https://styra-url.example.com
  token: styra-token
#  tokenSecretPath: /etc/styra-controller-token/styra_token

opaControlPlaneConfig:
  address: https://ocp-host/ocp
  token: ocp-token
  gitCredentials:
    - id: git-credential-id
      repoPrefix: https://github.com
  bundleObjectStorage:
    s3:
      bucket: ocp
      region: us-east-1
      url: https://minio-host
      ocpConfigSecretName: minio # Name of secret in ocp config
  defaultRequirements:
    - library1

# used by controller to create users and policies
userCredentialHandler:
  s3:
    bucket: ocp
    url: https://minio-host
    region: us-east-1 #default use for minio
    accessKeyID: minio-access-key
    secretAccessKey: minio-secret-key

#systemPrefix:
#systemSuffix:
systemUserRoles:
  - SystemOwner
  - SystemMetadataManager

#datasourceIgnorePatterns:
# - "^systems/[a-z0-9]+/dontdeleteme/.*"
# - "^libraries/[a-z0-9_]+/deletemenot/.*"

#decisionsExporter:

#activityExporter:

podRestart:
  slpRestart:
    enabled: true
    deploymentType: StatefulSet


#opa:
#  decision_logs:
#    request_context:
#      http:
#        headers:
#          - "Accept"
